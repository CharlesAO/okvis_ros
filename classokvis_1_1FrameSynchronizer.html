<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OKVIS ROS: okvis::FrameSynchronizer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OKVIS ROS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceokvis.html">okvis</a></li><li class="navelem"><a class="el" href="classokvis_1_1FrameSynchronizer.html">FrameSynchronizer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classokvis_1_1FrameSynchronizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">okvis::FrameSynchronizer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class combines multiple frames with the same or similar timestamp into one multiframe.  
 <a href="classokvis_1_1FrameSynchronizer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FrameSynchronizer_8hpp_source.html">FrameSynchronizer.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3719ab6e32180c6d1a1fab784bf7d4ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a3719ab6e32180c6d1a1fab784bf7d4ce">FrameSynchronizer</a> (<a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a> &amp;parameters)</td></tr>
<tr class="memdesc:a3719ab6e32180c6d1a1fab784bf7d4ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Calls <a class="el" href="classokvis_1_1FrameSynchronizer.html#a4a653120ad5e22c08699492cd80634c4" title="Initialise the synchronizer with new parameters. Is called in the constructor. ">init()</a>.  <a href="#a3719ab6e32180c6d1a1fab784bf7d4ce">More...</a><br/></td></tr>
<tr class="separator:a3719ab6e32180c6d1a1fab784bf7d4ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a308109c5de37bb258a886cebebddd9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a1a308109c5de37bb258a886cebebddd9">~FrameSynchronizer</a> ()</td></tr>
<tr class="memdesc:a1a308109c5de37bb258a886cebebddd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trivial destructor.  <a href="#a1a308109c5de37bb258a886cebebddd9">More...</a><br/></td></tr>
<tr class="separator:a1a308109c5de37bb258a886cebebddd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a653120ad5e22c08699492cd80634c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a4a653120ad5e22c08699492cd80634c4">init</a> (<a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a> &amp;parameters)</td></tr>
<tr class="memdesc:a4a653120ad5e22c08699492cd80634c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the synchronizer with new parameters. Is called in the constructor.  <a href="#a4a653120ad5e22c08699492cd80634c4">More...</a><br/></td></tr>
<tr class="separator:a4a653120ad5e22c08699492cd80634c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d5524c4207f1f3d827d67550d011d0"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classokvis_1_1MultiFrame.html">okvis::MultiFrame</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#ab4d5524c4207f1f3d827d67550d011d0">addNewFrame</a> (std::shared_ptr&lt; <a class="el" href="namespaceokvis.html#aa07b1227acda3b13e8360197f44c0824">okvis::CameraMeasurement</a> &gt; &amp;frame)</td></tr>
<tr class="memdesc:ab4d5524c4207f1f3d827d67550d011d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new frame to the internal buffer and returns the Multiframe containing the frame.  <a href="#ab4d5524c4207f1f3d827d67550d011d0">More...</a><br/></td></tr>
<tr class="separator:ab4d5524c4207f1f3d827d67550d011d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aec5ddec066d5154bc7ef150cfcc2ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a1aec5ddec066d5154bc7ef150cfcc2ff">detectionEndedForMultiFrame</a> (uint64_t multiFrameId)</td></tr>
<tr class="memdesc:a1aec5ddec066d5154bc7ef150cfcc2ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the synchronizer that a frame in the multiframe has completed keypoint detection and description.  <a href="#a1aec5ddec066d5154bc7ef150cfcc2ff">More...</a><br/></td></tr>
<tr class="separator:a1aec5ddec066d5154bc7ef150cfcc2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae055097ae8ed21f430a3f6644d9c39a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#ae055097ae8ed21f430a3f6644d9c39a4">detectionCompletedForAllCameras</a> (uint64_t multiFrameId)</td></tr>
<tr class="memdesc:ae055097ae8ed21f430a3f6644d9c39a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will return true if the internal counter on how many times <a class="el" href="classokvis_1_1FrameSynchronizer.html#a1aec5ddec066d5154bc7ef150cfcc2ff" title="Inform the synchronizer that a frame in the multiframe has completed keypoint detection and descripti...">detectionEndedForMultiFrame()</a> has been called for this multiframe equals the number of cameras in the system.  <a href="#ae055097ae8ed21f430a3f6644d9c39a4">More...</a><br/></td></tr>
<tr class="separator:ae055097ae8ed21f430a3f6644d9c39a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0d33379add66aef9b591c17a4310dade"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a0d33379add66aef9b591c17a4310dade">findFrameByTime</a> (const <a class="el" href="classokvis_1_1Time.html">okvis::Time</a> &amp;timestamp, int &amp;position) const </td></tr>
<tr class="memdesc:a0d33379add66aef9b591c17a4310dade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a multiframe in the buffer that has a timestamp within the tolerances of the given one. The tolerance is given as a parameter in okvis::VioParameters::sensors_information::frameTimestampTolerance.  <a href="#a0d33379add66aef9b591c17a4310dade">More...</a><br/></td></tr>
<tr class="separator:a0d33379add66aef9b591c17a4310dade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d117c4173f49113ed8beffed15f9a38"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a4d117c4173f49113ed8beffed15f9a38">findFrameById</a> (uint64_t mfId, int &amp;position) const </td></tr>
<tr class="memdesc:a4d117c4173f49113ed8beffed15f9a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if a frame with multiframe id mfId is found and sets position to its frame buffer position  <a href="#a4d117c4173f49113ed8beffed15f9a38">More...</a><br/></td></tr>
<tr class="separator:a4d117c4173f49113ed8beffed15f9a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2425e06fb0c731905994510eca5be4d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a2425e06fb0c731905994510eca5be4d5">parameters_</a></td></tr>
<tr class="memdesc:a2425e06fb0c731905994510eca5be4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy of the parameters and settings.  <a href="#a2425e06fb0c731905994510eca5be4d5">More...</a><br/></td></tr>
<tr class="separator:a2425e06fb0c731905994510eca5be4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a4fd243eccff49abe02884e829383b9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a4a4fd243eccff49abe02884e829383b9">numCameras_</a></td></tr>
<tr class="memdesc:a4a4fd243eccff49abe02884e829383b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of cameras for easy access.  <a href="#a4a4fd243eccff49abe02884e829383b9">More...</a><br/></td></tr>
<tr class="separator:a4a4fd243eccff49abe02884e829383b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ad37fe70cdb8f4ad1e8d1c66826dc4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a60ad37fe70cdb8f4ad1e8d1c66826dc4">timeTol_</a></td></tr>
<tr class="memdesc:a60ad37fe70cdb8f4ad1e8d1c66826dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp tolerance to classify multiple frames as being part of the same multiframe.  <a href="#a60ad37fe70cdb8f4ad1e8d1c66826dc4">More...</a><br/></td></tr>
<tr class="separator:a60ad37fe70cdb8f4ad1e8d1c66826dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a975f73dae791a6333d700f3c35f6c838"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair<br class="typebreak"/>
&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classokvis_1_1MultiFrame.html">okvis::MultiFrame</a> &gt;, size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a975f73dae791a6333d700f3c35f6c838">frameBuffer_</a></td></tr>
<tr class="memdesc:a975f73dae791a6333d700f3c35f6c838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Circular buffer containing a multiframe pointer and a counter for how many times detection has completed.  <a href="#a975f73dae791a6333d700f3c35f6c838">More...</a><br/></td></tr>
<tr class="separator:a975f73dae791a6333d700f3c35f6c838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3893574f79b3210c8aec950d492274"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a0d3893574f79b3210c8aec950d492274">bufferPosition_</a></td></tr>
<tr class="memdesc:a0d3893574f79b3210c8aec950d492274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position of the newest multiframe in the buffer.  <a href="#a0d3893574f79b3210c8aec950d492274">More...</a><br/></td></tr>
<tr class="separator:a0d3893574f79b3210c8aec950d492274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4713ef1b4ee820d41ab26fbb032061"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classokvis_1_1Time.html">okvis::Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#afe4713ef1b4ee820d41ab26fbb032061">lastCompletedFrameTimestamp_</a></td></tr>
<tr class="memdesc:afe4713ef1b4ee820d41ab26fbb032061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp of the last multiframe that returned true in <a class="el" href="classokvis_1_1FrameSynchronizer.html#ae055097ae8ed21f430a3f6644d9c39a4" title="This will return true if the internal counter on how many times detectionEndedForMultiFrame() has bee...">detectionCompletedForAllCameras()</a>.  <a href="#afe4713ef1b4ee820d41ab26fbb032061">More...</a><br/></td></tr>
<tr class="separator:afe4713ef1b4ee820d41ab26fbb032061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29aa2b454198172cc275d1185c7c4deb"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokvis_1_1FrameSynchronizer.html#a29aa2b454198172cc275d1185c7c4deb">lastCompletedFrameId_</a></td></tr>
<tr class="memdesc:a29aa2b454198172cc275d1185c7c4deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the last multiframe that returned true in <a class="el" href="classokvis_1_1FrameSynchronizer.html#ae055097ae8ed21f430a3f6644d9c39a4" title="This will return true if the internal counter on how many times detectionEndedForMultiFrame() has bee...">detectionCompletedForAllCameras()</a>.  <a href="#a29aa2b454198172cc275d1185c7c4deb">More...</a><br/></td></tr>
<tr class="separator:a29aa2b454198172cc275d1185c7c4deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class combines multiple frames with the same or similar timestamp into one multiframe. </p>
<dl class="section warning"><dt>Warning</dt><dd>This class is not threadsafe. Make sure to lock it with a mutex if used in multiple threads! </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3719ab6e32180c6d1a1fab784bf7d4ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">okvis::FrameSynchronizer::FrameSynchronizer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. Calls <a class="el" href="classokvis_1_1FrameSynchronizer.html#a4a653120ad5e22c08699492cd80634c4" title="Initialise the synchronizer with new parameters. Is called in the constructor. ">init()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>Parameters and settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1a308109c5de37bb258a886cebebddd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">okvis::FrameSynchronizer::~FrameSynchronizer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trivial destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab4d5524c4207f1f3d827d67550d011d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classokvis_1_1MultiFrame.html">okvis::MultiFrame</a> &gt; okvis::FrameSynchronizer::addNewFrame </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="namespaceokvis.html#aa07b1227acda3b13e8360197f44c0824">okvis::CameraMeasurement</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new frame to the internal buffer and returns the Multiframe containing the frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>New frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Multiframe with the added frame in it. </dd></dl>

</div>
</div>
<a class="anchor" id="ae055097ae8ed21f430a3f6644d9c39a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool okvis::FrameSynchronizer::detectionCompletedForAllCameras </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>multiFrameId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This will return true if the internal counter on how many times <a class="el" href="classokvis_1_1FrameSynchronizer.html#a1aec5ddec066d5154bc7ef150cfcc2ff" title="Inform the synchronizer that a frame in the multiframe has completed keypoint detection and descripti...">detectionEndedForMultiFrame()</a> has been called for this multiframe equals the number of cameras in the system. </p>
<dl class="section warning"><dt>Warning</dt><dd>There is no check on whether actually all frames inside the multiframe have their keypoints detected. The synchronizer trusts the user to only ever call <a class="el" href="classokvis_1_1FrameSynchronizer.html#a1aec5ddec066d5154bc7ef150cfcc2ff" title="Inform the synchronizer that a frame in the multiframe has completed keypoint detection and descripti...">detectionEndedForMultiFrame()</a> once for each frame in the multiframe. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">multiFrameId</td><td>The ID of the multiframe. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the detection has ended for all cameras. False if either the multiframe was not found in the buffer or if not all frames in the multiframe have been detected. </dd></dl>

</div>
</div>
<a class="anchor" id="a1aec5ddec066d5154bc7ef150cfcc2ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool okvis::FrameSynchronizer::detectionEndedForMultiFrame </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>multiFrameId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the synchronizer that a frame in the multiframe has completed keypoint detection and description. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function does not check whether the multiframe contains newly detected keypoints and their descriptors. Therefore only call it when you are sure a frame has been processed for which you have not called this function before. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">multiFrameId</td><td>ID of the multiframe that contains the frame with the newly detected keypoints. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the multiframe was found in the synchronizer. If it returns false this means that the multiframe probably is too old and already fell out of the internal buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d117c4173f49113ed8beffed15f9a38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool okvis::FrameSynchronizer::findFrameById </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>mfId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns true if a frame with multiframe id mfId is found and sets position to its frame buffer position </p>
<p>Find a multiframe in the buffer for a given multiframe ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mfId</td><td>Look for this ID in the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">position</td><td>Position of the desired multiframe in the buffer. Check the return value to first find out whether the multiframe was found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a multiframe with the given timestamp was found in the buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="a0d33379add66aef9b591c17a4310dade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool okvis::FrameSynchronizer::findFrameByTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classokvis_1_1Time.html">okvis::Time</a> &amp;&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a multiframe in the buffer that has a timestamp within the tolerances of the given one. The tolerance is given as a parameter in okvis::VioParameters::sensors_information::frameTimestampTolerance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Look for this timestamp in the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">position</td><td>Position of the found multiframe in the buffer. Check the return value first to find out whether the multiframe was found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a multiframe with a timestamp within tolerances has been found. </dd></dl>

</div>
</div>
<a class="anchor" id="a4a653120ad5e22c08699492cd80634c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void okvis::FrameSynchronizer::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the synchronizer with new parameters. Is called in the constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>New parameters and settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a0d3893574f79b3210c8aec950d492274"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int okvis::FrameSynchronizer::bufferPosition_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Position of the newest multiframe in the buffer. </p>

</div>
</div>
<a class="anchor" id="a975f73dae791a6333d700f3c35f6c838"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;std::shared_ptr&lt;<a class="el" href="classokvis_1_1MultiFrame.html">okvis::MultiFrame</a>&gt;, size_t&gt; &gt; okvis::FrameSynchronizer::frameBuffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Circular buffer containing a multiframe pointer and a counter for how many times detection has completed. </p>

</div>
</div>
<a class="anchor" id="a29aa2b454198172cc275d1185c7c4deb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t okvis::FrameSynchronizer::lastCompletedFrameId_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID of the last multiframe that returned true in <a class="el" href="classokvis_1_1FrameSynchronizer.html#ae055097ae8ed21f430a3f6644d9c39a4" title="This will return true if the internal counter on how many times detectionEndedForMultiFrame() has bee...">detectionCompletedForAllCameras()</a>. </p>

</div>
</div>
<a class="anchor" id="afe4713ef1b4ee820d41ab26fbb032061"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classokvis_1_1Time.html">okvis::Time</a> okvis::FrameSynchronizer::lastCompletedFrameTimestamp_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timestamp of the last multiframe that returned true in <a class="el" href="classokvis_1_1FrameSynchronizer.html#ae055097ae8ed21f430a3f6644d9c39a4" title="This will return true if the internal counter on how many times detectionEndedForMultiFrame() has bee...">detectionCompletedForAllCameras()</a>. </p>

</div>
</div>
<a class="anchor" id="a4a4fd243eccff49abe02884e829383b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t okvis::FrameSynchronizer::numCameras_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of cameras for easy access. </p>

</div>
</div>
<a class="anchor" id="a2425e06fb0c731905994510eca5be4d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structokvis_1_1VioParameters.html">okvis::VioParameters</a> okvis::FrameSynchronizer::parameters_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy of the parameters and settings. </p>

</div>
</div>
<a class="anchor" id="a60ad37fe70cdb8f4ad1e8d1c66826dc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double okvis::FrameSynchronizer::timeTol_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timestamp tolerance to classify multiple frames as being part of the same multiframe. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>okvis/okvis_multisensor_processing/include/okvis/<a class="el" href="FrameSynchronizer_8hpp_source.html">FrameSynchronizer.hpp</a></li>
<li>okvis/okvis_multisensor_processing/src/<a class="el" href="FrameSynchronizer_8cpp.html">FrameSynchronizer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 22 2016 16:06:59 for OKVIS ROS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
